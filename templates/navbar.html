<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Online Grocery Shopping and Online Supermarket in India - bigbasket</title>
  <link rel="shortcut icon"
    href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3XfekLrDCd5cGYZHG0XelJNQ-hUCq2Jj6Vg&s"
    type="image/x-icon">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=search" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  {% load static %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <script src="{% static 'js/style.js' %}"></script>


</head>

<body>
  <header class="header-bar">
    <div class="logo-section">
      <a href="{% url 'home' %}">
      <img class="logo-img"
        src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTr3xOZrREto9WNjqxVOjZy4D7m7ByimftjKg&s"
        alt="bigbasket logo"></a>
    </div>

    <!-- <input type="text" class="search-box" placeholder="Search for Products..."> -->
        <div class="search-bar">
      <span class="search-icon">
        <svg height="20" width="20" viewBox="0 0 20 20" fill="none">
          <circle cx="9" cy="9" r="7" stroke="#99bb42" stroke-width="2" />
          <line x1="14.3" y1="14.3" x2="18" y2="18" stroke="#99bb42" stroke-width="2" stroke-linecap="round" />
        </svg>
      </span>

      <input id="searchInput"
            type="text"
            name="q"
            class="search-input"
            placeholder="Search for Products..."
            autocomplete="off" />

      <div id="searchSuggestions" class="search-suggestions"></div>
    </div>

    <div class="delivery-section">
      <div class="delivery-info">
        <div>
          <span class="delivery-icon">&#9889;</span>
          <span class="delivery-text">Delivery in <b>5 mins</b></span>
        </div>
        <span class="delivery-location">Select Location</span>

      </div>
    </div>

    {% if user.is_authenticated %}

    <div style="position:relative;display:inline-block;">
      <div class="cart-icon" onclick="toggleProfileDropdown()" style="cursor:pointer;">
        <img src="{% static 'images/profileicon.png' %}" alt="profile-btn" id="profile-btn">
      </div>
      <div class="dropdown-menu" id="profileDropdown">
        <a href="{% url 'profile_page' %}" class="dropdown-link" >My Account</a>
        <a href="{% url 'cart:cart' %}" class="dropdown-link">
          My Basket
          <span class="badge badge-red">{{cartcount}} item</span>
        </a>
        <a href="#" class="dropdown-link">My Orders</a>
        <a href="{% url 'products:wishlist_and_cart' %}" class="dropdown-link">My Wishlist</a>
        <a href="#" class="dropdown-link">
          My Wallet
          <span class="badge badge-green">₹0</span>
        </a>
        <a href="#" class="dropdown-link">Contact Us</a>
        <a href="{% url 'logout' %}" class="dropdown-link logout-link">Logout</a>
      </div>
    </div>
 
    {% else %}
    <a href="{% url 'login' %}" class="login-btn">Login/ Sign Up</a>
    {% endif %}

    {% if user.is_authenticated %}
    <div class="cart-icon">
      <a href="{% url 'cart:cart' %}">
        <div class="cart-container">
          <div class="cart-circle">
            <i class="fa fa-shopping-basket"></i>
          </div>
          <span class="cart-badge">{{cartcount}}</span>
        </div>
      </a>
    </div>
    {% else %}
    <div class="cart-icon">
      <a href="{% url 'login' %}">
        <img src="{% static 'images/image.png' %}" alt="cart-icon">
      </a>
    </div>
    {% endif %}

  </header>

  <!-- Menu Bar -->
  <div class="menu-bar">
    
    <!-- Shop by Category -->
<!-- Mega Menu HTML -->
<div class="mega-menu-container">
  <button class="category-btn" id="openMegaMenu">Shop by Category ▸</button>
  <div class="mega-menu" id="megaMenuDropdown">
    <ul class="level-one">
      {% for category in categories1 %}
        <li class="main-cat" data-sub="{{ category.id }}">{{ category.name }}</li>
      {% endfor %}
    </ul>
    <div class="level-two-wrap">
      {% for category in categories1 %}
        <ul class="level-two sub-menu" id="sub-{{ category.id }}">
          {% for subcat in category.subcategories.all %}
            <li class="sub-cat" data-subsub="{{ subcat.id }}">{{ subcat.name }}</li>
          {% endfor %}
        </ul>
      {% endfor %}
    </div>
    <div class="level-three-wrap">
      {% for category in categories1 %}
        {% for subcat in category.subcategories.all %}
          <ul class="level-three sub-sub-menu" id="subsub-{{ subcat.id }}">
            {% for subsubcat in subcat.subsubcategories.all %}
              <li><a style="text-decoration: none;color:black;" href="{% url 'products:category_products' category_name=subsubcat.name|urlencode %}">{{ subsubcat.name }}</a></li>
            {% endfor %}
          </ul>
        {% endfor %}
      {% endfor %}
    </div>
  </div>
</div>



<!-- shopbycatend -->



    <div class="menu-links-scroll">
      {% for cat in categories %}
    <a class="menu-link {% if category and cat.id == category.id %}highlighted{% endif %}"
       href="{% url 'products:category_products' category_id=cat.id %}">
       {{ cat.name }}
    </a>
    {% endfor %}

      <div class="dropdown-01">
        <div class="dropbtn-01">>></div>
        <div class="dropdown-content-01">
          {% for category in categories_list %}
          <a href="{% url 'products:category_products' category.id %}">{{ category.name }}</a>
          {% endfor %}
        </div>
      </div>

    </div>

    <span class="divider"></span>

    <span class="menu-btn smart-basket">
      <svg width="22" height="22" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="10" stroke="#a2bb78" stroke-width="2" fill="none" />
        <rect x="8" y="11" width="8" height="5" rx="1.5" fill="#e6f2c8" />
        <rect x="7" y="7" width="10" height="7" rx="1" stroke="#a2bb78" stroke-width="1" fill="none" />
      </svg>
      <span class="smart-basket-label">Smart<br>basket</span>
    </span>
    <span class="menu-btn offers-btn">
      <svg width="16" height="16" style="vertical-align: middle;" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="10" fill="#7da918" />
        <text x="12" y="17" text-anchor="middle" font-size="13" fill="#fff" font-family="Arial">&#9733;</text>
      </svg>
      <span>Offers</span>
    </span>
  </div> 

    {% block navcontent %}
    {% endblock %}

<script>
  // Show/hide mega-menu on button click
document.getElementById('openMegaMenu').addEventListener('click', function(e) {
  document.getElementById('megaMenuDropdown').classList.toggle('active');
});

// Set up hover for categories and subcategories
const mainCats = document.querySelectorAll('.main-cat');
const subMenus = document.querySelectorAll('.level-two');
const subCats = document.querySelectorAll('.sub-cat');
const subSubMenus = document.querySelectorAll('.level-three');

mainCats.forEach(cat => {
  cat.addEventListener('mouseenter', function() {
    // Remove .active from all main and sub menus
    mainCats.forEach(c => c.classList.remove('active'));
    subMenus.forEach(s => s.classList.remove('active'));
    subSubMenus.forEach(s => s.classList.remove('active'));
    // Activate hovered main cat
    cat.classList.add('active');
    const submenu = document.getElementById('sub-' + cat.dataset.sub);
    if (submenu) submenu.classList.add('active');
  });
});

subCats.forEach(subcat => {
  subcat.addEventListener('mouseenter', function(e) {
    // Remove .active from all sub-sub-menus
    subSubMenus.forEach(s => s.classList.remove('active'));
    subCats.forEach(s => s.classList.remove('active'));
    // Activate hovered sub-cat
    subcat.classList.add('active');
    const subsubmenu = document.getElementById('subsub-' + subcat.dataset.subsub);
    if (subsubmenu) subsubmenu.classList.add('active');
    e.stopPropagation();
  });
});

document.addEventListener('click', function(e) {
  // Hide menu if click outside
  if (!document.querySelector('.mega-menu-container').contains(e.target)) {
    document.getElementById('megaMenuDropdown').classList.remove('active');
    subMenus.forEach(s => s.classList.remove('active'));
    mainCats.forEach(c => c.classList.remove('active'));
    subSubMenus.forEach(s => s.classList.remove('active'));
    subCats.forEach(s => s.classList.remove('active'));
  }
});

</script>
</body>




</html>